<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html> 
  <head> 
    <title>Spinny</title> 
    <link rel="stylesheet" type="text/css" href="/css/reset.css"> 
    <link rel="stylesheet" type="text/css" href="/css/fonts.css"> 
    <link rel="stylesheet" type="text/css" href="/css/grids.css"> 
    <link rel="stylesheet" type="text/css" href="/css/tree.css">
    <style type="text/css">
      .emLabel, .emLabel:link, .emLabel:visited, .emLabel:hover { 
      font-weight: bold;
      }
    </style>
    <script type="text/javascript" src="/js/yahoo.js" ></script>
    <script type="text/javascript" src="/js/treeview.js" ></script>

  </head> 
  <body onload="treeInit()"> 
    <div id="doc"> 
      <div id="hd"></div> <!-- header --> 
      <div id="bd">
	<div id="yui-main">
	  <div class="yui-b">
	    <!-- start: stack grids here -->						
	    <div class="yui-gd">
	      <div class="yui-u first">
		<!-- start: your content here -->
		<div class="mod">
		  <div class="hd">
		    <h2>Unit A</h2>
		  </div>
		  <div class="hd">
		    <p>GRID UNIT: A</p>
	  <div id="expandcontractdiv">
		<a href="javascript:tree.expandAll()">Expand all</a>
		<a href="javascript:tree.collapseAll()">Collapse all</a>
	  </div>

<div id="treeDiv1"></div>
<script type="text/javascript">

	var tree;
	var nodes = new Array();
	var nodeIndex = 0;
	
	function treeInit() {
		buildRandomTextNodeTree();
	}

	function buildRandomTextNodeTree() {
		tree = new YAHOO.widget.TreeView("treeDiv1");
		tree.onExpand = function(node) {
			// alert(node.index + " was expanded"); 
		}

		tree.onCollapse = function(node) {
			// alert(node.index + " was collapsed"); 
		}

		for (var i = 0; i < Math.floor((Math.random()*4) + 3); i++) {
			var thisId = nodeIndex++;
			var thisLabel = "menu" + i;
			// nodes[thisId] = new YAHOO.widget.TextNode({ label: thisLabel }, tree.getRoot(), false);
			// nodes[thisId] = new YAHOO.widget.MenuNode({label:thisLabel, href:"http://asdf"}, tree.getRoot(), false);
			nodes[thisId] = new YAHOO.widget.MenuNode(thisLabel, tree.getRoot(), false);

			var p1 = nodes[thisId];
			var l1 = thisLabel;

			for (var j = 0; j < Math.floor(Math.random()*6) + 1; j++) { 
				thisId = nodeIndex++;
				thisLabel = l1 + "-" + j;
				// nodes[thisId] = new YAHOO.widget.TextNode({ label: thisLabel }, p1, true);
				nodes[thisId] = new YAHOO.widget.MenuNode(thisLabel, p1, false);

				var p2 = nodes[thisId];
				var l2 = thisLabel;

				for (var k =0; k < Math.floor(Math.random()*6) + 1; k++) { 
					thisId = nodeIndex++;
					thisLabel = l2 + "-" + k;

					var data = {
							id: thisId,
							label: thisLabel, 
							href: "javascript:onLabelClick(" + thisId + ")" 
						}

					//var data = { label: thisLabel, href: "javascript:void(window.open('http://www.yahoo.com'))" }
					nodes[thisId] = new YAHOO.widget.TextNode(data, p2, false);
                    nodes[thisId].labelStyle = "emLabel";

					// nodes[thisId] = new YAHOO.widget.MenuNode(thisLabel, p2, false);
				}

			}

		}

		// nodes[0] = new YAHOO.widget.TextNode(tree.getRoot(), false, "label-0");
		tree.draw();
	}

	var selectedId = null;
	function onLabelClick(id) {

		var node = tree.getNodeByProperty("id", id);
		// alert(node.label);

		var el = node.getLabelEl()

        YAHOO.log("pos: " + YAHOO.util.Dom.getXY(el));

        el.style.backgroundColor = "#c5dbfc";
		

		if (selectedId != null) {
			node = tree.getNodeByProperty("id", selectedId);
			node.getLabelEl().style.backgroundColor = "white";
		}

		selectedId = id;
	}

</script>

		  </div>
		</div>
		<!-- end: your content here -->
	      </div>
	      <div class="yui-u">
		<!-- start: your content here -->
		<div class="mod">
		  <div class="hd">
		    <h2>Unit BC</h2>
		  </div>
		  <div class="hd">
		    <p>GRID UNIT: Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Maecenas sit amet metus. Nunc quam elit, posuere nec, auctor in, rhoncus quis, dui. Aliquam erat volutpat. Ut dignissim, massa sit amet dignissim cursus, quam lacus feugiat dolor, id aliquam leo tortor eget odio. Pellentesque orci arcu, eleifend at, iaculis sit amet, posuere eu, lorem. Aliquam erat volutpat. Phasellus vulputate. Vivamus id erat. Nulla facilisi. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos. Nunc gravida. Ut euismod, tortor eget convallis ullamcorper, arcu odio egestas pede, ut ornare urna elit vitae mauris. Aenean ullamcorper eros a lacus. Curabitur egestas tempus lectus. Donec et lectus et purus dapibus feugiat. Sed sit amet diam. Etiam ipsum leo, facilisis ac, rutrum nec, dignissim quis, tellus. Sed eleifend.</p>
		  </div>
		</div>
		<!-- end: your content here -->
	      </div>
	    </div>				
	    <!-- end: stack grids here -->
	  </div>
	</div>
	<!-- end: primary column from outer template -->
      </div> <!-- body --> 
      <div id="ft"></div> <!-- footer --> 
    </div> 
  </body> 
</html>
