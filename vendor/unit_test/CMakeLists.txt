
INCLUDE_DIRECTORIES( ${CMAKE_CURRENT_SOURCE_DIR} )

FILE(GLOB UNIT_TEST_SRC "${CMAKE_CURRENT_SOURCE_DIR}/*.cpp")

IF(UNIX)
  FILE(GLOB UNIT_TEST_SRC ${UNIT_TEST_SRC} "${CMAKE_CURRENT_SOURCE_DIR}/Posix/*.cpp")
ELSE(UNIX)
  FILE(GLOB UNIT_TEST_SRC ${UNIT_TEST_SRC} "${CMAKE_CURRENT_SOURCE_DIR}/Win32/*.cpp")
ENDIF(UNIX)

SET(UNIT_TEST_SRCS ${UNIT_TEST_SRC} )

ADD_LIBRARY( unit_test ${UNIT_TEST_SRCS})

